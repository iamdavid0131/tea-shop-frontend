/* ============================================================
   â˜ï¸ ç¥¥èˆˆèŒ¶è¡Œ Main Style - é¦–é ã€å•†å“å±•ç¤ºã€è©³æƒ…é 
   (æ ¸å¿ƒè®Šæ•¸è«‹è¦‹ variables.css)
   ============================================================ */

/* ============================================================
   ğŸƒ åŸºç¤è¨­å®š & Header (èŒ¶éœ§æ»‘å…¥ç‰¹æ•ˆ)
   ============================================================ */
body {
  /* StickyBar é«˜åº¦ + é€å‡ºæŒ‰éˆ•é ç•™ç©ºé–“ */
  padding-bottom: calc(var(--sticky-height, 90px) + 120px);
  background: transparent; /* èƒŒæ™¯äº¤çµ¦ .aurora-bg */
  margin: 0;
  color: var(--text-primary);
  font-family: "Noto Serif TC", "Songti TC", -apple-system, serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}
/* ============================================================
   ğŸƒ åŸºç¤è¨­å®š & Header (æ——è‰¦ç‰ˆ - èŒ¶é¦™æ¥µå…‰)
   ============================================================ */

/* === Header ä¸»å®¹å™¨ === */
.ios-header {
  position: relative;
  z-index: 100;
  background: linear-gradient(180deg, rgba(250, 252, 250, 0.95), rgba(255,255,255,0.85));
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 2px 10px rgba(90, 123, 104, 0.08);
  border-bottom: 1px solid rgba(180, 200, 190, 0.3);
  
  padding: 40px 24px 32px; /* ä¸Šä¸‹åŠ å¯¬ï¼Œå¤§æ°£æ„Ÿ */
  text-align: center;
  border-radius: 0 0 24px 24px; /* åœ“è§’åŠ å¤§ */
  
  overflow: hidden;
  opacity: 0;
  transform: translateY(28px);
  animation: teaHeaderEnter 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  margin-bottom: 28px; 
}

/* === èƒŒæ™¯ç‰¹æ•ˆ (æ¼‚æµ®èŒ¶é¦™ç²’å­) === */
.ios-header::before {
  content: ""; position: absolute; inset: 0;
  background-image: 
    radial-gradient(circle at 30% 120%, rgba(180, 200, 180, 0.25) 0%, transparent 60%),
    radial-gradient(circle at 70% -20%, rgba(160, 190, 170, 0.22) 0%, transparent 60%),
    radial-gradient(circle at 50% 80%, rgba(180, 210, 190, 0.18) 0%, transparent 70%);
  background-size: 200% 200%;
  animation: teaMist 10s ease-in-out infinite alternate;
  filter: blur(16px); z-index: 0;
}
/* ç¢ºä¿å…§å®¹æµ®åœ¨èƒŒæ™¯ä¹‹ä¸Š */
.ios-header > * { position: relative; z-index: 1; pointer-events: auto; }


/* === 1. å“ç‰Œå€å¡Š (Brand) === */
.brand-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center; /* ğŸ”¥ ç¢ºä¿æ°´å¹³ç½®ä¸­ */
  width: 100%;             /* ğŸ”¥ ä½”æ»¿å¯¬åº¦ */
  margin-bottom: 12px;
}

.brand-icon {
/* ç§»é™¤æ‰€æœ‰èˆŠçš„å‹•ç•«èˆ‡æ¿¾é¡ï¼Œäº¤çµ¦ Lordicon è™•ç† */
  animation: none !important;
  filter: none !important;
  
  /* ç¢ºä¿ç½®ä¸­ */
  margin: 0 auto 4px auto;
  display: flex;
  justify-content: center;
  align-items: center;
}


/* === æ¨™é¡Œæ–‡å­— === */
.ios-title-lg {
  font-family: "Noto Serif TC", "Songti TC", serif; /* å®‹é«”æ›´æœ‰èŒ¶å‘³ */
  font-size: 26px; 
  font-weight: 800;
  letter-spacing: 2px;
  color: #2f4b3c;
  margin: 0;
  
  /* èŒ¶é‡‘æ¼¸å±¤æ–‡å­— */
  background: linear-gradient(135deg, #2f4b3c 0%, #5a7b68 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  
  text-shadow: 0 2px 4px rgba(90, 123, 104, 0.1);
}

/* === å‰¯æ¨™é¡Œ (æ„Ÿæ€§æ–‡æ¡ˆ) === */
.ios-subtitle {
  font-size: 15px;
  color: #6b8c7a;
  line-height: 1.6;
  font-weight: 500;
  margin-bottom: 24px; /* æ‹‰é–‹èˆ‡è† å›Šçš„è·é›¢ */
  letter-spacing: 0.5px;
  max-width: 90%;
  margin-left: auto;
  margin-right: auto;
}

/* === 3. é‹è²»å„ªæƒ è† å›Š (Promo Pill) === */
.promo-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  
  background: rgba(255, 255, 255, 0.65);
  border: 1px solid rgba(180, 200, 190, 0.4);
  border-radius: 50px; /* åœ“å½¢è† å›Š */
  
  padding: 8px 20px;
  font-size: 13.5px;
  color: #4e6b58;
  font-weight: 600;
  
  box-shadow: 0 2px 10px rgba(90, 123, 104, 0.08);
  backdrop-filter: blur(8px);
  
  transition: all 0.3s ease;
  cursor: default;
}

.promo-pill:hover {
  background: rgba(255, 255, 255, 0.95);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(90, 123, 104, 0.15);
  border-color: #8fb79c;
}

.promo-pill .icon { font-size: 16px; }

/* === åº•éƒ¨è£é£¾ç·š === */
.ios-header::after {
  content: ""; display: block; width: 68px; height: 3px;
  background: linear-gradient(90deg, #9bb7a6, #c8dfce);
  border-radius: 999px; 
  margin: 24px auto 0; /* ğŸ”¥ å¢åŠ èˆ‡è† å›Šçš„è·é›¢ï¼Œé¿å…å¤ªæ“  */
  opacity: 0.9;
  animation: teaLine 1.5s ease-in-out;
}


/* === å‹•ç•«é—œéµå¹€ === */
@keyframes teaHeaderEnter {
  0% { opacity: 0; transform: translateY(28px); filter: blur(6px); }
  100% { opacity: 1; transform: translateY(0); filter: blur(0); }
}
@keyframes teaMist { 
  0% { background-position: 50% 0%; } 
  100% { background-position: 52% 0%; } 
}
@keyframes fadeInTitle { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInSubtitle { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes teaLine { 0% { width: 0; opacity: 0; } 60% { width: 72px; opacity: 1; } 100% { width: 68px; } }


/* === RWD æ‰‹æ©Ÿç‰ˆå¾®èª¿ === */
@media (max-width: 480px) {
  .ios-header { padding-top: 32px; padding-bottom: 24px; margin-bottom: 20px; }
  .ios-title-lg { font-size: 24px; }
  .ios-subtitle { font-size: 14px; margin-bottom: 18px; }
  
  .promo-pill { 
    font-size: 12.5px; 
    padding: 8px 16px;
    width: 100%; /* æ‰‹æ©Ÿç‰ˆæ‹‰å¯¬ */
    justify-content: center;
    box-sizing: border-box;
  }
}
/* ============================================================
   ğŸŒŒ Aurora Mist (æ¥µå…‰èƒŒæ™¯)
   ============================================================ */
.aurora-bg {
  position: fixed; inset: 0; overflow: hidden; pointer-events: none;
  background: #F2F0EB; z-index: 0; 
}

.aurora-layer {
  position: absolute; width: 160%; height: 160%; top: -30%; left: -30%;
  opacity: 0.38; filter: blur(100px);
  background: radial-gradient(circle at 40% 40%, rgba(255, 250, 240, 0.8), rgba(230, 235, 230, 0.2), rgba(255, 255, 255, 0));
  mix-blend-mode: hard-light; transform: translate3d(0,0,0); pointer-events: none;
}
.layer-1 { opacity: 0.40; } 
.layer-2 { opacity: 0.30; filter: blur(140px); }
.layer-3 { opacity: 0.20; }


/* ============================================================
   ğŸï¸ èŒ¶åˆ†é¡å ´æ™¯ (Home Scenes)
   ============================================================ */
.tea-scenes {
  position: relative; display: flex; overflow-x: hidden; overflow-y: visible;
  flex-direction: column; -webkit-overflow-scrolling: touch; z-index: 1;
  gap: 24px; padding: 24px 20px;
}
.tea-scenes::-webkit-scrollbar { display: none; }

.tea-scene {
  scroll-snap-align: start; margin-bottom: 42px; z-index: 1;
  padding: 18px; border-radius: var(--radius-lg);
  background: var(--mist-glass); border: 1px solid var(--mist-border);
  box-shadow: 0 6px 18px var(--mist-shadow);
  backdrop-filter: blur(16px) saturate(135%);
  transition: transform 0.4s var(--ease-soft);
}
.tea-scene:active { transform: scale(0.985); }

/* åˆ†é¡æ¨™é¡Œ */
.tea-scene-header {
  display: flex; flex-direction: column; align-items: flex-start;
  padding: 8px 4px 14px; margin-bottom: 20px;
  background-image: linear-gradient(to right, var(--auroraA), var(--auroraB));
  background-repeat: no-repeat; background-size: 100% 2px; background-position: 0 100%;
}
.tea-scene-header .cat-zh {
  font-size: 20px; font-weight: 700; letter-spacing: 0.05em;
  color: var(--catA); opacity: 0.92; margin-bottom: 4px; transition: color .45s ease;
}
.tea-scene-header .cat-en {
  font-size: 12px; letter-spacing: 0.18em; color: var(--catB);
  opacity: 0.65; text-transform: uppercase; font-weight: 500; transition: color .45s ease;
}

/* æ©«å‘æ»¾å‹•å®¹å™¨ */
.tea-scroll {
  display: flex; overflow-x: auto; gap: 14px; padding-bottom: 6px;
  scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch;
  margin-left: -4px; width: calc(100% + 4px);
}
.tea-scroll::-webkit-scrollbar { height: 4px; }
.tea-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.15); border-radius: 8px; }


/* ============================================================
   ğŸµ å•†å“å¡ç‰‡ (Tea Card)
   ============================================================ */
.tea-card {
  /* åŸºç¤ä½ˆå±€ */
  width: 180px;
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* è®“å…§å®¹æ’é–‹ */
  
  /* å°ºå¯¸èˆ‡åœ“è§’ */
  padding: 20px 18px;
  border-radius: 24px; /* æ›´å¤§çš„åœ“è§’ï¼Œæ›´ç¾ä»£ */
  
  /* ğŸ’ æ——è‰¦ç»ç’ƒè³ªæ„Ÿ */
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(240, 248, 245, 0.85));
  border: 1px solid rgba(255, 255, 255, 0.8);
  
  /* é«˜ç´šé™°å½± (å¤šå±¤æ¬¡) */
  box-shadow: 
    0 10px 30px rgba(90, 123, 104, 0.08), /* é è™•æŸ”å…‰ */
    0 4px 8px rgba(90, 123, 104, 0.04),  /* è¿‘è™•ç´°ç¯€ */
    inset 0 0 0 1px rgba(255, 255, 255, 0.5); /* å…§ç™¼å…‰é‚Šæ¡† */
    
  backdrop-filter: blur(20px);
  
  /* å‹•ç•« */
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  cursor: pointer;
  position: relative;
  overflow: hidden; /* ç‚ºäº†æµå…‰ç‰¹æ•ˆ */
}

/* Hover æ‡¸æµ®æ•ˆæœ */
.tea-card:hover {
  transform: translateY(-6px) scale(1.02);
  background: linear-gradient(145deg, #ffffff, #f0f7f3);
  box-shadow: 
    0 16px 40px rgba(90, 123, 104, 0.15),
    0 6px 12px rgba(90, 123, 104, 0.08);
  border-color: #cde0d6;
}

/* é»æ“Šå›é¥‹ */
.tea-card:active {
  transform: scale(0.96);
  box-shadow: 0 4px 12px rgba(90, 123, 104, 0.1);
}

/* æ¨™é¡Œæ–‡å­— */
.tea-card .title {
  font-size: 18px;
  font-weight: 800;
  line-height: 1.4;
  color: #2a3a32;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
  
  /* è®“éé•·çš„æ¨™é¡Œè‡ªå‹•çœç•¥ */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* å‰¯æ¨™é¡Œ (åƒ¹æ ¼æˆ–æè¿°) */
.tea-card .meta {
  font-size: 14px;
  color: #6b8c7a;
  font-weight: 500;
  margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
  display: flex;
  align-items: center;
  gap: 4px;
}

/* è£é£¾å°åœ–ç¤º (å¯é¸) */
.tea-card .meta::before {
  content: "ğŸƒ";
  font-size: 12px;
  opacity: 0.8;
}

/* âœ¨ æµå…‰æƒéç‰¹æ•ˆ (Shimmer) */
.tea-card::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: skewX(-25deg);
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: none;
}

.tea-card:hover::after {
  opacity: 1;
  animation: cardShine 0.8s ease-in-out forwards;
}

@keyframes cardShine {
  0% { left: -100%; }
  100% { left: 200%; }
}


/* ============================================================
   ğŸ“± å•†å“è©³æƒ… Modal (Tea Modal)
   ============================================================ */
.tea-modal {
  position: fixed; inset: 0; display: flex; justify-content: center; align-items: flex-end;
  pointer-events: none; opacity: 0; transition: opacity .35s ease; z-index: 9999;
}
.tea-modal.show { pointer-events: auto!important; opacity: 1; }

.tea-modal-bg {
  position: absolute; inset: 0; background: rgba(0,0,0,0.32); opacity: 0;
  transition: opacity .35s ease; z-index: 9000; pointer-events: none;
}
.tea-modal.show .tea-modal-bg { opacity: 1; pointer-events: auto!important; }

.tea-modal-content {
  /* é ‚éƒ¨åŠ å¤§åœ“è§’ */
  border-radius: 32px 32px 0 0; 
  /* æ¥µè‡´ç»ç’ƒè³ªæ„ŸèƒŒæ™¯ */
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(24px) saturate(160%);
  -webkit-backdrop-filter: blur(24px) saturate(160%);
  
  /* åŠ ä¸Šé ‚éƒ¨å…‰æ¾¤ */
  box-shadow: 
    0 -10px 40px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
    
  padding-bottom: calc(40px + env(safe-area-inset-bottom));
  width: 100%; max-height: 88%; background: rgba(255,255,255,0.88);
  border-radius: 24px 24px 0 0; padding-bottom: calc(32px + env(safe-area-inset-bottom));
  backdrop-filter: blur(18px) saturate(140%); box-shadow: 0 -6px 24px rgba(0,0,0,0.12);
  transform: translateY(100%); transition: transform .45s var(--ease-soft);
  overflow-y: auto; -webkit-overflow-scrolling: touch; position: relative; z-index: 9500; pointer-events: auto;
}
.tea-modal.show .tea-modal-content { transform: translateY(0)!important; }

.tea-modal-header {
padding: 20px 24px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  
  /* èŒ¶éŸ»æ¼¸å±¤èƒŒæ™¯ */
  background: linear-gradient(180deg, rgba(240, 250, 245, 0.6) 0%, rgba(255, 255, 255, 0) 100%);
  border-bottom: 1px solid rgba(0, 0, 0, 0.03);
}
#modalTitle { 
  /* 1. å­—é«”åŠ å¤§ï¼Œæå‡ä»½é‡æ„Ÿ */
  font-size: 22px !important; 
  font-weight: 800;
  
  /* 2. é¡è‰²è¨­å®š (é€™è£¡æœƒè¢« JS çš„ style.color è¦†è“‹ï¼Œä½†è¨­å€‹é è¨­å€¼æ¯”è¼ƒä¿éšª) */
  color: #5a7b68; 
  
  letter-spacing: 1.5px; /* å¢åŠ å­—è·ï¼Œæ›´æœ‰è³ªæ„Ÿ */
  text-transform: uppercase;
  
  display: flex;
  align-items: center;
  justify-content: center; /* å¦‚æœä½ æƒ³è¦ç½®ä¸­ */
  gap: 8px;
}
  /* åˆ†é¡å‰çš„å°åœ–ç¤º (ç”¨ CSS ç•«è‘‰å­) */
#modalTitle::before {
  content: "" !important;      /* å¿…é ˆæœ‰å…§å®¹æ‰èƒ½é¡¯ç¤º */
  display: inline-block !important;
  
  width: 24px;  /* åœ–ç¤ºå¤§å° */
  height: 24px;
  margin-right: 6px;
  margin-bottom: 2px; /* å¾®èª¿å‚ç›´å°é½Š */

  /* ğŸ”¥ é—œéµï¼šä½¿ç”¨ currentColor è®“åœ–ç¤ºé¡è‰²è‡ªå‹•è·Ÿéš¨æ–‡å­—é¡è‰² */
  background-color: currentColor; 
  
  /* ä½¿ç”¨ SVG Mask è¼‰å…¥ç²¾ç¾çš„èŒ¶è‘‰åœ–ç¤º */
  -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M16.5 3C19.58 3 22 5.42 22 8.5C22 11.13 19.2 14.28 16.97 16.26C15.83 17.25 14.38 17.9 12.85 17.9C11.69 17.9 10.57 17.52 9.63 16.81C6.48 14.43 2.32 11.35 2.32 7.57C2.32 4.49 4.74 2.07 7.82 2.07C9.56 2.07 11.23 2.88 12.32 4.16C13.41 2.88 15.08 3 16.5 3Z' style='fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round'/%3E%3Cpath d='M12 18V22' style='stroke:currentColor;stroke-width:2;stroke-linecap:round'/%3E%3C/svg%3E") no-repeat center;
  
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M2 22l10-10'/%3E%3Cpath d='M12 12c.5-3 2.5-5 5-5 3 0 5 2 5 5 0 5-4.5 9.5-10 10'/%3E%3Cpath d='M12 12c-.5-3-2.5-5-5-5-3 0-5 2-5 5 0 5 4.5 9.5 10 10'/%3E%3C/svg%3E") no-repeat center;

  -webkit-mask-size: contain;
  mask-size: contain;
  
  opacity: 0.9; /* å¾®å¾®é€æ˜å¢åŠ è³ªæ„Ÿ */
}
.close-btn {
  width: 32px; height: 32px;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; color: #555;
  transition: all 0.2s;
}
.close-btn:hover {
  background: rgba(0, 0, 0, 0.1);
  transform: rotate(90deg);
}

.tea-collection { padding: 18px 16px 40px; display: flex; flex-direction: column; gap: 22px; }

/* Item Card inside Modal */
.itemcard {
  margin-top: 10px;
  padding: 24px 20px;
  background: #fff;
  border-radius: 24px;
  box-shadow: 0 4px 20px rgba(90, 123, 104, 0.08);
  border: 1px solid rgba(0, 0, 0, 0.02);
  position: relative;
  overflow: hidden;
}
/* èƒŒæ™¯è£é£¾ç´‹ç† */
.itemcard::before {
  content: "";
  position: absolute; top: -20px; right: -20px;
  width: 100px; height: 100px;
  background: radial-gradient(circle, #e8f3ed 0%, transparent 70%);
  opacity: 0.6; pointer-events: none;
}
.itemcard .title {font-size: 24px;
  font-weight: 800;
  color: #2f4b3c;
  margin-bottom: 8px;
  line-height: 1.3;
  font-family: "Noto Serif TC", serif; /* å®‹é«”æ›´æœ‰èŒ¶å‘³ */}
.itemcard .meta { font-size: 15px;
  color: #6b8c7a;
  margin-bottom: 16px;
  font-weight: 500;}

/* æ•¸é‡æ§åˆ¶ */
.qty-row { display: flex; align-items: center; gap: 12px; margin-top: 4px; }
.qty-btn {
  width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(145deg,#fafcfa,#eef3ef);
  border: 1.5px solid rgba(160,180,165,0.4); display: flex; align-items: center; justify-content: center;
  font-size: 20px; font-weight: 600; color: #2f4b3c; cursor: pointer; transition: all .2s ease;
}
.qty-btn:hover { transform: translateY(-2px); box-shadow: 0 3px 6px rgba(90,123,104,0.15); }
.qty-input {
  width: 48px; font-size: 18px; font-weight: 700; color: #2f4b3c; padding: 6px 4px;
  border-radius: 8px; border: 1px solid rgba(170,190,180,0.4); background: rgba(255,255,255,0.75); text-align: center;
}

/* åº«å­˜æ¨™ç±¤ */
.stock-tag {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 600;
  background: #f0f5f3;
  color: #4a6b58;
  margin-bottom: 16px;
}
.stock-tag.low { background: #fff4e6; color: #c46a4a; }
.stock-tag.soldout { background: #ffe6e6; color: #b03535; }

/* Pack Row (è£ç½) */
.pack-row {
  background: #f8faf9;
  padding: 8px;
  border-radius: 16px;
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.pack-row.active { background: rgba(255, 255, 255, 0.95); border-color: #8fb79c; }
.pack-toggle { font-weight: 700; color: #305c46; font-size: 15px; display: flex; align-items: center; gap: 8px; cursor: pointer; }
.pack-qty { display: flex; align-items: center; gap: 8px; opacity: 0; transform: translateX(10px); pointer-events: none; transition: all 0.3s; }
.pack-qty.hidden { display: none; }
.pack-row.active .pack-qty { display: flex; opacity: 1; transform: translateX(0); pointer-events: auto; animation: packOpen 0.4s; }
@keyframes packOpen { from { opacity: 0; transform: scale(0.9) translateX(10px); } to { opacity: 1; transform: scale(1) translateX(0); } }

/* Step Button (å°åŠ æ¸›éˆ•) */
.step {
  width: 28px; height: 28px; border-radius: 8px; background: #fff;
  border: 1px solid rgba(160, 180, 165, 0.4); color: #305c46; font-size: 16px; font-weight: 600;
  display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s;
}
.step:hover { background: #e8f3ed; border-color: #8fb79c; transform: translateY(-1px); }

/* æ°£æ³¡å‹•ç•« */
.qty-bubble {
  position: absolute; font-size: 14px; font-weight: 800; color: #2f4b3c; opacity: 0;
  pointer-events: none; z-index: 9999; animation: qtyBubbleMove 0.8s forwards;
}
@keyframes qtyBubbleMove {
  0% { opacity: 0; transform: translate(-50%, 0) scale(0.6); }
  20% { opacity: 1; transform: translate(-50%, -20px) scale(1.1); }
  100% { opacity: 0; transform: translate(-50%, -40px) scale(1); }
}


/* ============================================================
   ğŸ“˜ è©³ç´°èªªæ˜èˆ‡åŠŸèƒ½ (Details & Profile - No Toggle Version)
   ============================================================ */

/* é€šç”¨é€²å ´å‹•ç•«ï¼šå¾€ä¸Šæµ®ç¾ */
@keyframes cardSlideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* === 1. è©³ç´°èªªæ˜å€å¡Š (é è¨­å±•é–‹) === */
.detailblock {
  background: #ffffff;
  border-radius: 24px;
  padding: 24px; /* å¢åŠ å…§è· */
  margin-bottom: 16px;
  
  /* æ‡¸æµ®è³ªæ„Ÿ */
  box-shadow: 0 4px 20px rgba(90, 123, 104, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.02);

  /* å‹•ç•«è¨­å®š */
  opacity: 0; /* åˆå§‹éš±è—ï¼Œç­‰å‹•ç•« */
  animation: cardSlideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  animation-delay: 0.1s; /* ç¬¬ 1 å€‹å‡ºç¾ */
}

/* å…§æ–‡æ’ç‰ˆå„ªåŒ– */
.detailblock p {
  font-size: 15.5px;
  line-height: 1.85; /* æ›´å¯¬é¬†çš„è¡Œè·ï¼Œé–±è®€æ›´èˆ’é© */
  color: #4a4a4a;
  text-align: justify;
  letter-spacing: 0.03em;
  margin: 0;
}


/* === 2. èŒ¶æ€§æ ¼å„€è¡¨æ¿ (Profile Section) === */
.profile-section {
  background: #ffffff;
  border-radius: 24px;
  padding: 24px;
  margin-top: 0; /* ç·Šæ¥åœ¨èªªæ˜ä¸‹æ–¹ */
  margin-bottom: 16px;
  
  box-shadow: 0 4px 20px rgba(90, 123, 104, 0.05);
  border: 1px solid rgba(0,0,0,0.02);
  
  /* å‹•ç•«è¨­å®š */
  opacity: 0;
  animation: cardSlideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  animation-delay: 0.2s; /* ç¬¬ 2 å€‹å‡ºç¾ */
}

/* æ¨™é¡Œ */
.profile-title {
  font-size: 13px;
  color: #8fa396;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 20px;
  display: flex; align-items: center; gap: 8px;
}
/* è£é£¾æ¢ */
.profile-title::before {
  content: ""; display: block; width: 4px; height: 14px;
  background: var(--pcolor, #5a7b68);
  border-radius: 2px;
}

/* å…§å®¹å®¹å™¨ */
.profile-blocks {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* å–®è¡Œ (æ¨™ç±¤ + ç‡ˆæ¢) */
.profile-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.profile-label {
  font-size: 15px;
  font-weight: 600;
  color: #2f4b3c;
  width: 55px;
}

/* ç‡ˆæ¢å®¹å™¨ */
.profile-bar {
  flex: 1;
  display: flex;
  gap: 6px;
  padding-left: 12px;
}

/* ç‡ˆè™Ÿ (å…‰è† å›Š) */
.profile-bar .blk {
  flex: 1;
  height: 8px;
  border-radius: 4px;
  background: #f0f2f1;
  transition: all 0.3s ease;
}

/* äº®èµ·ç‹€æ…‹ */
.profile-bar .blk.on {
  background: var(--pcolor, #5a7b68);
  box-shadow: 0 0 10px var(--pcolor, rgba(90, 123, 104, 0.4));
  opacity: 0;
  /* ç‡ˆæ¢å…§éƒ¨çš„ä¾åºäº®èµ· */
  animation: barPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ç‡ˆæ¢å»¶é² (åŠ ä¸ŠåŸæœ¬å¡ç‰‡çš„å»¶é² 0.2s) */
.profile-bar .blk:nth-child(1) { animation-delay: 0.3s; }
.profile-bar .blk:nth-child(2) { animation-delay: 0.35s; }
.profile-bar .blk:nth-child(3) { animation-delay: 0.4s; }
.profile-bar .blk:nth-child(4) { animation-delay: 0.45s; }
.profile-bar .blk:nth-child(5) { animation-delay: 0.5s; }

@keyframes barPop {
  0% { transform: scaleX(0); opacity: 0; }
  100% { transform: scaleX(1); opacity: 1; }
}


/* === 3. æ³¡æ³•è³‡è¨Š (Brew Section) === */
.brew-section {
  background: #ffffff;
  border-radius: 24px;
  padding: 24px;
  margin-top: 0;
  
  border: 1px solid rgba(0,0,0,0.02);
  box-shadow: 0 4px 20px rgba(90, 123, 104, 0.05);
  
  /* å‹•ç•«è¨­å®š */
  opacity: 0;
  animation: cardSlideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  animation-delay: 0.3s; /* ç¬¬ 3 å€‹å‡ºç¾ */
}

.brew-title {
  font-size: 15px;
  font-weight: 700;
  color: #2f4b3c;
  display: flex; align-items: center; gap: 6px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid #f0f5f3; /* æ¥µç´°åˆ†éš”ç·š */
}

.brew-row {
  font-size: 15px;
  color: #555;
  padding: 10px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.2s;
}

/* åˆ†éš”ç·šåªåœ¨é …ç›®ä¹‹é–“é¡¯ç¤ºï¼Œæœ€å¾Œä¸€é …ä¸è¦ */
.brew-row:not(:last-child) {
  border-bottom: 1px dashed #f0f0f0;
}

.brew-row:hover {
  background: #fafcfb;
  padding-left: 10px; padding-right: 10px;
  margin: 0 -10px; /* è² é‚Šè·è®“èƒŒæ™¯å¡«æ»¿ */
  border-radius: 12px;
}

.brew-row span:last-child {
  font-weight: 600;
  color: #2f4b3c;
  font-family: "Noto Serif TC", serif;
  letter-spacing: 0.5px;
}

.ice-icon { font-size: 16px; margin-left: 4px; }

/* ============================================================
   ğŸŒ€ Embla Carousel æ ¸å¿ƒæ¨£å¼
   ============================================================ */
.embla { position: relative; width: 100%; max-width: 100vw; }
.embla__viewport { overflow: hidden; width: 100%; overflow-x: scroll; scrollbar-width: none; }
.embla__container { display: flex; gap: 14px; padding: 6px 4px 10px 0px; touch-action: pan-y pinch-zoom; }
.embla__slide { flex: 0 0 auto; width: auto; min-width: 0; }


/* ============================================================
   âœ… éš±ç§åŒæ„èˆ‡é€å‡ºæŒ‰éˆ• (Premium Tea Style)
   ============================================================ */

/* === éš±ç§åŒæ„å€å¡Šå®¹å™¨ === */
.consent-row {
  margin: 24px 0 12px;
  padding: 18px 20px;
  border-radius: 16px;
  
  /* ç»ç’ƒæ“¬æ…‹èƒŒæ™¯ */
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(160, 180, 170, 0.45);
  box-shadow: 
    0 4px 12px rgba(90, 123, 104, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
    
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.consent-row:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(90, 123, 104, 0.1);
}

/* === Toggle Switch (é–‹é—œæœ¬é«”) === */
.sp-toggle {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  cursor: pointer;
  user-select: none;
}

.sp-toggle input {
  display: none; /* éš±è—åŸç”Ÿ checkbox */
}

/* === æ»‘è»Œ === */
.sp-toggle-slider {
  position: relative;
  flex-shrink: 0;
  width: 46px;
  height: 28px;
  border-radius: 28px;
  margin-top: 2px;
  
  /* OFF ç‹€æ…‹ï¼šèŒ¶ç°ç¶  */
  background: rgba(200, 215, 205, 0.6);
  border: 1px solid rgba(180, 200, 190, 0.3);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  
  transition: all 0.35s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* === åœ“å½¢æŒ‰éˆ• (Knob) === */
.sp-toggle-slider::after {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  
  background: #fff;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.15),
    0 1px 1px rgba(0, 0, 0, 0.05);
    
  transition: all 0.35s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* === ON ç‹€æ…‹ï¼šèŒ¶æ¹¯æ¼¸å±¤ + å…‰æšˆ === */
.sp-toggle input:checked + .sp-toggle-slider {
  background: linear-gradient(135deg, #7fa38a 0%, #5a7b68 100%);
  border-color: transparent;
  box-shadow: 
    0 2px 8px rgba(90, 123, 104, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.sp-toggle input:checked + .sp-toggle-slider::after {
  transform: translateX(18px); /* ç§»å‹•è·é›¢ */
  background: #fff;
}

/* === æ–‡å­—æè¿° === */
.sp-toggle-text {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.sp-toggle-label {
  font-size: 15.5px;
  font-weight: 700;
  color: #2f4b3c; /* æ·±èŒ¶ç¶  */
  line-height: 1.4;
}

.sp-consent-note {
  font-size: 13.5px;
  color: #66776e; /* æ·ºç°ç¶  */
  line-height: 1.5;
}

/* ============================================================
   ğŸš€ é€å‡ºæŒ‰éˆ•å€åŸŸ
   ============================================================ */
.submit-area {
  margin-top: 32px;
  margin-bottom: 24px;
  padding: 0 8px;
  display: flex;
  justify-content: center;
}

.submit-btn {
  width: 100%;
  height: 56px;
  border-radius: 18px;
  
  font-size: 18px;
  font-weight: 700;
  letter-spacing: 1px;
  color: #fff;
  
  border: none;
  background: linear-gradient(135deg, #5a7b68, #8fb79c);
  
  /* æ‡¸æµ®é™°å½± */
  box-shadow: 
    0 8px 20px rgba(90, 123, 104, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
    
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Hover æ•ˆæœ */
.submit-btn:not(:disabled):hover {
  transform: translateY(-2px);
  background: linear-gradient(135deg, #668a75, #9cc3aa);
  box-shadow: 
    0 12px 28px rgba(90, 123, 104, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

/* Active é»æ“Šæ•ˆæœ */
.submit-btn:not(:disabled):active {
  transform: translateY(1px);
  box-shadow: 0 4px 10px rgba(90, 123, 104, 0.2);
}

/* âœ¨ æµå…‰å‹•ç•« (Shine Effect) */
.submit-btn:not(:disabled)::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.3) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: skewX(-25deg);
  animation: btnShine 3s infinite;
}

@keyframes btnShine {
  0% { left: -100%; opacity: 0; }
  20% { left: 200%; opacity: 1; }
  100% { left: 200%; opacity: 0; }
}

/* ğŸš« Disabled ç‹€æ…‹ */
.submit-btn:disabled {
  background: #e0e0e0;
  color: #a0a0a0;
  box-shadow: none;
  cursor: not-allowed;
  transform: none;
}
.submit-btn:disabled::after {
  display: none;
}

/* æ‰‹æ©Ÿç‰ˆåº•éƒ¨å®‰å…¨è·é›¢ */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .submit-area {
    margin-bottom: calc(24px + env(safe-area-inset-bottom));
  }
}
/* ============================================================
   ğŸš‘ è¡Œå‹•ç«¯æ»¾å‹•æ€¥æ•‘åŒ… (Mobile Scroll Fixes) - è²¼åœ¨ style.css æœ€ä¸‹æ–¹
   ============================================================ */

/* 1. è§£é–æ©«å‘æ»‘å‹• (é‡å°é¦–é å•†å“åˆ—è¡¨) */
.tea-scroll, 
.embla__container {
  display: flex !important;
  overflow-x: auto !important;
  overflow-y: hidden !important;
  /* iOS æ…£æ€§æ»‘å‹•å¿…å‚™ */
  -webkit-overflow-scrolling: touch !important;
  /* å‘Šè¨´ç€è¦½å™¨ï¼šé€™è£¡å…è¨±æ©«å‘æ“ä½œï¼Œä¸è¦æ””æˆª */
  touch-action: pan-x !important; 
  cursor: grab;
  pointer-events: auto !important; /* ç¢ºä¿èƒ½é»æ“Š */
}

/* 2. è§£é–å‚ç›´æ»‘å‹• (é‡å° Modal å…§å®¹) */
/* 1. Modal å…§å®¹å®¹å™¨ï¼šå…è¨±å‚ç›´æ²å‹•ï¼Œç¦æ­¢æ°´å¹³æº¢å‡º */
.tea-modal-content {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  
  /* iOS æ…£æ€§æ»‘å‹•å¿…å‚™ */
  -webkit-overflow-scrolling: touch !important;
  
  /* å‘Šè¨´ç€è¦½å™¨ï¼šé€™è£¡å…è¨±å‚ç›´æ“ä½œï¼Œä¸è¦æ””æˆª */
  touch-action: pan-y !important;
  
  /* é˜²æ­¢æ»‘åˆ°åº•éƒ¨æ™‚ï¼Œé€£å¸¶æ²å‹•åˆ°å¾Œé¢çš„ body */
  overscroll-behavior: contain !important;
  
  /* ç¢ºä¿é«˜åº¦è¢«é™åˆ¶ï¼Œä¸ç„¶ç„¡æ³•æ²å‹• */
  max-height: 85vh !important;
  height: auto !important;
}

/* 2. ç¢ºä¿ Modal æœ¬èº«ä¸æœƒæ“‹ä½æ²å‹• */
.tea-modal {
  /* è®“é»æ“Šç©¿é€åˆ° contentï¼Œä½†ä¸è¦æ“‹ä½ scroll */
  touch-action: none; 
}

/* 3. å¦‚æœæœ‰ç”¨äº† Hammer.jsï¼Œé€™è¡Œèƒ½æ•‘å‘½ */
.tea-modal-content * {
  touch-action: pan-y !important; /* å¼·åˆ¶å­å…ƒç´ ä¹Ÿå…è¨±æ²å‹• */
}

/* 4. ç¢ºä¿ AI è¦–çª—å…§å®¹å¯ä»¥æ»‘ */
.ai-chat-area {
  flex-grow: 1;
  height: 0; /* Flexbox trick: è®“å®ƒåƒæ»¿å‰©é¤˜ç©ºé–“ä¸¦å…è¨±æ²å‹• */
  min-height: 200px; 
}

/* ============================================================
   ğŸš‘ æ•¸é‡è¼¸å…¥æ¡†æ¨£å¼æ€¥æ•‘ (é˜²æ­¢è¢« store.css çš„å¤§è¡¨å–®æ¨£å¼è¦†è“‹)
   ============================================================ */

/* é‡å°ã€Œä¸»æ•¸é‡ã€èˆ‡ã€Œè£ç½æ•¸é‡ã€çš„è¼¸å…¥æ¡†é€²è¡Œå¼·åˆ¶é‡ç½® */
.qty-input,
.pack-qty input {
  /* 1. å°ºå¯¸é‡ç½®ï¼šæ”¹å›å°å·§æ–¹å½¢ */
  width: 40px !important;
  height: 30px !important;
  
  /* 2. æ¨£å¼é‡ç½®ï¼šç§»é™¤å¤§è¡¨å–®çš„ç•™ç™½èˆ‡èƒŒæ™¯ */
  padding: 0 !important;
  margin: 0 4px !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid rgba(160, 180, 170, 0.5) !important;
  border-radius: 8px !important;
  
  /* 3. æ–‡å­—é‡ç½® */
  font-size: 15px !important;
  font-weight: 700 !important;
  text-align: center !important;
  color: #2f4b3c !important;
  
  /* 4. ç§»é™¤èšç„¦æ™‚çš„å·¨å¤§å…‰æšˆ */
  box-shadow: none !important;
}

/* èšç„¦æ™‚åªçµ¦ä¸€é»é»é¡è‰² */
.qty-input:focus,
.pack-qty input:focus {
  border-color: #5a7b68 !important;
  background: #fff !important;
}
/* =========================================
   1. å®¹å™¨èˆ‡åŸºç¤è¨­å®š (ä¿®æ­£çˆ†ç‰ˆå•é¡Œ)
   ========================================= */
.giftbox-container {
  width: 100%;
  box-sizing: border-box; /* ğŸ”¥ é—œéµï¼šé˜²æ­¢ padding æ’ç ´å¯¬åº¦ */
  padding: 24px 16px;
  
  /* æ¥µå…‰ç™½æ¼¸å±¤ + ç»ç’ƒè³ªæ„Ÿ */
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 245, 242, 0.8) 100%);
  border-radius: 24px;
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  
  box-shadow: 
    0 10px 40px rgba(90, 123, 104, 0.1), 
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.6);
  
  position: relative;
  margin: 0 auto;
  max-width: 100%;
  overflow: hidden; /* é˜²æ­¢å…§éƒ¨å…ƒç´ æº¢å‡º */
}

/* =========================================
   2. èŒ¶ç½æ¨£å¼ (é‡æ§‹ï¼šè‡ªå‹•é©æ‡‰å¯¬åº¦)
   ========================================= */
.giftbox-slots {
  display: flex;
  justify-content: center; /* ç½®ä¸­ */
  align-items: flex-end;   /* åº•éƒ¨å°é½Š */
  gap: 12px;               /* ğŸ”¥ ç¸®å°é–“è·ï¼Œé¿å…å¤ªæ“  */
  margin-bottom: 28px;
  width: 100%;
}

.metal-slot {
  /* ğŸ”¥ æ”¹ç”¨ flex æ¯”ä¾‹ï¼Œè®“å®ƒè‡ªå‹•ç¸®æ”¾ï¼Œä¸æœƒå®šæ­»å¯¬åº¦ */
  flex: 1;
  max-width: 140px; /* æœ€å¤§å¯¬åº¦ */
  min-width: 100px; /* æœ€å°å¯¬åº¦ */
  cursor: pointer;
  position: relative;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.metal-slot:active { transform: scale(0.96); }

/* --- ç“¶è“‹ (ä¿®æ­£æ­ªæ–œ) --- */
.metal-cap {
  width: 70%; /* å¯¬åº¦æ”¹ç™¾åˆ†æ¯” */
  height: 18px;
  margin: 0 auto; /* çµ•å°ç½®ä¸­ */
  
  /* ä¿®æ­£å½¢ç‹€ */
  border-radius: 4px 4px 0 0;
  background: linear-gradient(to bottom, #e0e0e0, #d6d6d6);
  box-shadow: 0 -2px 4px rgba(0,0,0,0.05) inset;
  
  position: relative;
  z-index: 2;
  bottom: -1px; /* ç¨å¾®å¾€ä¸‹å£“ï¼Œè“‹ä½ç“¶èº«ç¸«éš™ */
}

/* --- ç“¶èº« (ç»ç’ƒç½é¢¨æ ¼) --- */
.metal-body {
  width: 100%;
  /* é«˜åº¦æ”¹ç”¨ aspect-ratio ä¿æŒæ¯”ä¾‹ï¼Œæˆ–å›ºå®šé«˜åº¦ */
  height: 150px; 
  border-radius: 16px;
  
  /* ä¹¾æ·¨çš„ç™½åº• + ç¶ è‰²é‚Šæ¡† */
  background: #ffffff;
  border: 2px solid #e6f0eb;
  
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 10px;
  box-sizing: border-box;
  
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* é¸ä¸­ç‹€æ…‹ (Active) - è®Šæˆæ·¡æ·¡çš„èŒ¶ç¶ è‰² */
.metal-slot.active .metal-body {
  border-color: #5a7b68;
  background: linear-gradient(180deg, #f7fff9 0%, #e8f5ee 100%);
  box-shadow: 0 0 0 3px rgba(90, 123, 104, 0.15);
}

.metal-slot.active .metal-cap {
  background: #5a7b68; /* è“‹å­è®Šè‰² */
}

/* æ–‡å­—å„ªåŒ– */
.metal-text {
  text-align: center;
  font-size: 15px;
  font-weight: 700;
  color: #889990; /* é è¨­ç°ç¶  */
  line-height: 1.4;
  z-index: 2;
}

.metal-slot.active .metal-text {
  color: #2f4b3c; /* é¸ä¸­è®Šæ·±ç¶  */
}

.metal-sub {
  display: block;
  font-size: 12px;
  color: #b0b0b0;
  margin-top: 4px;
  font-weight: 400;
}
.metal-slot.active .metal-sub {
  color: #e67e22; /* æ•¸é‡è®Šæ©˜è‰² */
  font-weight: 600;
}

/* =========================================
   3. é€²åº¦æ¢èˆ‡æŒ‰éˆ•
   ========================================= */
.giftbox-progress {
  width: 90%;
  margin: 0 auto 20px;
}

.progress-bar-bg {
  width: 100%;
  height: 6px;
  background: #eef1f0;
  border-radius: 99px;
  overflow: hidden;
  margin-bottom: 8px;
}

.progress-bar-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #8fb79c, #5a7b68);
  transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  border-radius: 99px;
}

.progress-text {
  text-align: center;
  font-size: 13px;
  color: #889990;
  font-weight: 500;
  letter-spacing: 0.5px;
}

.giftbox-status {
  text-align: center;
  font-size: 14px;
  font-weight: 600;
  color: #a0a0a0;
  margin-bottom: 16px;
  min-height: 24px;
}

.giftbox-submit {
  width: 100%;
  height: 52px;
  border: none;
  border-radius: 16px;
  font-size: 16px;
  font-weight: 700;
  letter-spacing: 1px;
  background: #e0e6e3;
  color: #b0b0b0;
  cursor: not-allowed;
  transition: all 0.3s ease;
}

.giftbox-submit.enabled {
  background: linear-gradient(135deg, #5a7b68, #416352);
  color: #fff;
  box-shadow: 0 8px 20px rgba(47, 75, 60, 0.25);
  cursor: pointer;
}
.giftbox-submit.enabled:active { transform: scale(0.98); }

/* =========================================
   4. èŒ¶è‘‰é£›å…¥å‹•ç•«ç²’å­ (GSAP ç”¨)
   ========================================= */
.leaf-particle {
  position: fixed;
  width: 12px;
  height: 12px;
  background-color: #5a7b68;
  border-radius: 50% 0 50% 0; /* è‘‰å­å½¢ç‹€ */
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
}